(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[764],{570:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var n=new URLSearchParams({method:"GET",api_key:"d21e7c74c298022b205fb848988c75ba",language:"en-US",include_adult:!1,headers:{accept:"application/json"}})},764:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(165),a=r(861),s=r(439),c=r(791),i=r(243),o=r(686),u=r(570),p=r(7),l=r.n(p);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/search/movie",e.next=3,i.Z.get("".concat("/search/movie","?").concat(u.I,"&query=").concat(t));case 3:if(!((r=e.sent).data.total_results<1)){e.next=7;break}return o.Notify.failure("Sorry we can't find your film"),e.abrupt("return");case 7:return e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();f.propTypes={query:l().string.isRequired};var m=r(689),d=r(87),h=r(734),_=r(184),v=function(e){var t=e.data,r=(0,m.TH)();return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("ul",{className:h.Z.trendList,children:t.map((function(e){var t=e.id,n=e.title,a=e.poster_path,s=a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://openclipart.org/image/800px/323563";return(0,_.jsx)("li",{children:(0,_.jsxs)(d.rU,{className:h.Z.trendListItemContent,to:"/movies/".concat(t),state:{from:r},children:[(0,_.jsx)("img",{src:s,alt:n,width:"300"}),n]})},t)}))})})},b="movies_mainTitle__Zx9Nu",y="movies_mainContainer__9F-W5",x="movies_searchInput__0OAbN",g=function(){var e=(0,c.useState)(""),t=(0,s.Z)(e,2),r=t[0],i=t[1],o=null;(0,c.useEffect)((function(){r&&f(r)}));var u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(o),o=setTimeout((0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f(t.target.value);case 4:if(r=e.sent){e.next=8;break}return console.log("error"),e.abrupt("return");case 8:i(r.results);case 9:case"end":return e.stop()}}),e)}))),500);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)("main",{className:y,children:[(0,_.jsx)("h1",{className:b,children:"MOVIES"}),(0,_.jsx)("input",{type:"text",onChange:u,className:x,placeholder:"Search"}),r&&(0,_.jsx)(v,{data:r})]})}},888:function(e,t,r){"use strict";var n=r(47);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,c){if(c!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},7:function(e,t,r){e.exports=r(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},734:function(e,t){"use strict";t.Z={trendList:"trend_trendList__dpbQ1",trendListItemContent:"trend_trendListItemContent__s72ee"}}}]);
//# sourceMappingURL=764.55471481.chunk.js.map